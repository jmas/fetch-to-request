"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function handleResponse(e){if(!(e instanceof Object))throw new TypeError('Value of argument "response" violates contract.\n\nExpected:\nObject\n\nGot:\n'+_inspect(e));return new _promise2.default(function(t,n){e.json().then(function(r){return e.status>399?n({error:{status:e.status,message:e.statusText,errors:r}}):t({data:r})}).catch(function(){return n({error:{status:e.status,message:"Unnable to parse response body"}})})})}function _inspect(e,t){if(void 0===t&&(t=0),t+=1,null===e)return"null";if(void 0===e)return"void";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return void 0===e?"undefined":(0,_typeof3.default)(e);if(Array.isArray(e)){if(e.length>0){if(t>4)return"[...]";var n=_inspect(e[0],t);return e.every(function(e){return _inspect(e,t)===n})?n.trim()+"[]":"["+e.slice(0,15).map(function(e){return _inspect(e,t)}).join(", ")+(e.length>=15?", ...":"")+"]"}return"Array"}var r=(0,_keys2.default)(e);if(!r.length)return e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name:"Object";if(t>4)return"{...}";var o="  ".repeat(t-1),i=r.slice(0,15).map(function(n){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(n)?n:(0,_stringify2.default)(n))+": "+_inspect(e[n],t)+";"}).join("\n  "+o);return r.length>=15&&(i+="\n  "+o+"..."),e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name+" {\n  "+o+i+"\n"+o+"}":"{\n  "+o+i+"\n"+o+"}"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.headers=void 0;var _keys=require("babel-runtime/core-js/object/keys"),_keys2=_interopRequireDefault(_keys),_typeof2=require("babel-runtime/helpers/typeof"),_typeof3=_interopRequireDefault(_typeof2),_stringify=require("babel-runtime/core-js/json/stringify"),_stringify2=_interopRequireDefault(_stringify),_extends2=require("babel-runtime/helpers/extends"),_extends3=_interopRequireDefault(_extends2),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),_promise=require("babel-runtime/core-js/promise"),_promise2=_interopRequireDefault(_promise);exports.handleResponse=handleResponse,require("promise-polyfill"),require("whatwg-fetch");var headers=exports.headers={Accept:"application/json, text/plain, */*","Content-Type":"application/json"},_class=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,_classCallCheck3.default)(this,e),!(t instanceof Object))throw new TypeError('Value of argument "fetchOptions" violates contract.\n\nExpected:\nObject\n\nGot:\n'+_inspect(t));this._options=(0,_extends3.default)({headers:headers},t)}return(0,_createClass3.default)(e,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw new TypeError('Value of argument "url" violates contract.\n\nExpected:\nstring\n\nGot:\n'+_inspect(e));if(!(t instanceof Object))throw new TypeError('Value of argument "options" violates contract.\n\nExpected:\nObject\n\nGot:\n'+_inspect(t));return function(e){if(!(e instanceof _promise2.default))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise\n\nGot:\n"+_inspect(e));return e}(window.fetch(e,(0,_extends3.default)({},this._options,t,{method:"GET"})).then(function(e){return handleResponse(e)}))}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw new TypeError('Value of argument "url" violates contract.\n\nExpected:\nstring\n\nGot:\n'+_inspect(e));if(!(t instanceof Object))throw new TypeError('Value of argument "options" violates contract.\n\nExpected:\nObject\n\nGot:\n'+_inspect(t));return function(e){if(!(e instanceof _promise2.default))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise\n\nGot:\n"+_inspect(e));return e}(window.fetch(e,(0,_extends3.default)({},this._options,t,{method:"DELETE"})).then(function(e){return handleResponse(e)}))}},{key:"post",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof e)throw new TypeError('Value of argument "url" violates contract.\n\nExpected:\nstring\n\nGot:\n'+_inspect(e));if(!(t instanceof Object))throw new TypeError('Value of argument "data" violates contract.\n\nExpected:\nObject\n\nGot:\n'+_inspect(t));if(!(n instanceof Object))throw new TypeError('Value of argument "options" violates contract.\n\nExpected:\nObject\n\nGot:\n'+_inspect(n));return function(e){if(!(e instanceof _promise2.default))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise\n\nGot:\n"+_inspect(e));return e}(window.fetch(e,(0,_extends3.default)({},this._options,n,{body:(0,_stringify2.default)(t),method:"POST"})).then(function(e){return handleResponse(e)}))}},{key:"put",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof e)throw new TypeError('Value of argument "url" violates contract.\n\nExpected:\nstring\n\nGot:\n'+_inspect(e));if(!(t instanceof Object))throw new TypeError('Value of argument "data" violates contract.\n\nExpected:\nObject\n\nGot:\n'+_inspect(t));if(!(n instanceof Object))throw new TypeError('Value of argument "options" violates contract.\n\nExpected:\nObject\n\nGot:\n'+_inspect(n));return function(e){if(!(e instanceof _promise2.default))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise\n\nGot:\n"+_inspect(e));return e}(window.fetch(e,(0,_extends3.default)({},this._options,{body:(0,_stringify2.default)(t)},n,{method:"PUT"})).then(function(e){return handleResponse(e)}))}},{key:"patch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof e)throw new TypeError('Value of argument "url" violates contract.\n\nExpected:\nstring\n\nGot:\n'+_inspect(e));if(!(t instanceof Object))throw new TypeError('Value of argument "data" violates contract.\n\nExpected:\nObject\n\nGot:\n'+_inspect(t));if(!(n instanceof Object))throw new TypeError('Value of argument "options" violates contract.\n\nExpected:\nObject\n\nGot:\n'+_inspect(n));return function(e){if(!(e instanceof _promise2.default))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise\n\nGot:\n"+_inspect(e));return e}(window.fetch(e,(0,_extends3.default)({},this._options,n,{body:(0,_stringify2.default)(t),method:"PATCH"})).then(function(e){return handleResponse(e)}))}}]),e}();exports.default=_class;